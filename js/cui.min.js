const chatWindow=new Bubbles(document.getElementById("chat"),"chatWindow",{inputCallbackFn:function(e){var n,t=function(e){return e.toLowerCase().replace(/[\s.,\/#!$%\^&\*;:{}=\-_'"`~()]/g,"")},s=!1;e.convo[e.standingAnswer].reply.forEach(function(n,i){t(n.question).includes(t(e.input))&&e.input.length>0?s=n.answer:!s&&(s=!1)}),s?(n=s,setTimeout(function(){chatWindow.talk(convo,n)},600)):(console.log(e.input),"issue"==currentQuestion?(updateFormValue(`heu_${currentHeuristic}_issue`,e.input),askHeuristicSuggestion()):"suggestion"==currentQuestion?(updateFormValue(`heu_${currentHeuristic}_suggestion`,e.input),currentQuestion="",inputText.classList.add("inactive"),currentHeuristic<10?goToHeuristic(currentHeuristic+1):chatWindow.talk(convo,"closing_1")):chatWindow.talk({"i-dont-get-it":{says:["Sorry, I don't quite understand what you mean."],reply:e.convo[e.standingAnswer].reply}},"i-dont-get-it"))}});let currentHeuristic,currentQuestion,startedPlaying=!1,timeSpentTotal=0,timeSpentOnOnboarding=0,timeSpentOnScenario=0,timeSpentOnEvaluation=0,completedScenario=0,convo={icebreaker:{says:["Hi there! Welcome to the Requestor app.","I was trained to help you evaluate the design you see on the left 👈🏻","You can respond by clicking on coloured buttons on the right."],reply:[{question:"Like this? I get it!",answer:"intro_1"}]},intro_1:{says:["Exactly, well done.","Now let's get to business. Here's what you should know about the project before you see the design:","<b class='with-image'><img src='/i/feather/tag.svg' alt='Tag icon'>About this Project</b> Bol.com is the leading online shop in the Netherlands for books, toys and electronics that serve over 10.5 million customers."],reply:[{question:"Tell me more.",answer:"intro_2"}]},intro_2:{says:["<b class='with-image'><img src='/i/feather/users.svg' alt='Users icon'>Target Users</b> Bol.com mainly serves customers in the Netherlands (72%) and Belgium (14%), across all age groups.","That's all for now. Whenever you're ready, you can click on the next button to unveil the design."],reply:[{question:"Show me!",answer:"unveilDesign"}]},intro_3:{says:["See? The interface just became a whole lot more visible.","If you want, you can get a general impression of the design: try scrolling and clicking on things to see where they take you.","If you're ready to continue the evaluation, just let me know!"],reply:[{question:"I’m ready!",answer:"tasks_1"}]},tasks_1:{says:["Fantastic. I'll explain what you should do.","We ask you to perform a <i>Heuristic Evaluation</i> of the design you see on left.","This means that you envision yourself to be the user while acting out a scenario, and share your opinion on the design's usability at the end, basing your opinion on ten general rules.","This may seem like a lot, but don't worry, I'll guide you through the process."],reply:[{question:"Let’s do it!",answer:"tasks_2"}]},tasks_2:{says:["Here's the scenario you should act out using the prototype:","<i>Your name is Frederic — a 62 year old Dutch male from the Veldhoven area. Your Epson printer just broke down for the last time, and is in dire need of replacement.</i>","1. You opened the Bol.com page to order a new one. However, there are some restrictions: The printer should <span class='underlined'>cost less than €90</span>. It should be able to <span class='underlined'>print in full-colour</span>. Finally, <span class='underlined'>you don't want an Epson brand printer</span>.","2. Your task is to use the Bol.com website to find a suitable new printer, and add it to your shopping basket.","When you’re ready to start the task, click on the button."],reply:[{question:"I’m ready.",answer:"tasks_3"}]},tasks_3:{says:["Good luck! Please use either of the buttons when you’re done."],reply:[{question:"I’m done!",answer:"completedScenario"},{question:"I got stuck...",answer:"didNotCompleteScenario"}]},tasks_4a:{says:["That's awesome!","I have a few questions about how you experienced using the design on the left.","I will be sharing <b>ten general principles</b> on what make a user interface usable. For each principle, please state <b>whether you think there is a problem.</b>","You can do so using the scale of <b>0 to 4</b>, where '0' means no problem and '4' means a usability catastrophe. You may hover over the ratings to see a more elaborate description."],reply:[{question:"Let’s go!",answer:"heuristic_1"}]},tasks_4b:{says:["That's not a problem at all, this project is not finished and therefore not perfect.","As we’re working on improving it, we value your experiencees greatly, and would like to ask you a few questions to help us understand.","I will be sharing ten global rules of what makes a design good. We ask you to state whether you think there was an error for each of these rules."],reply:[{question:"Let’s go!",answer:"heuristic_1"}]},heuristic_1:{says:["<b>1/10 — 'Visibility of System Status'</b>","The system should always keep users informed about what is going on, through appropriate feedback within reasonable time."],reply:[{question:"0",answer:"heu_1_0"},{question:"1",answer:"heu_1_1"},{question:"2",answer:"heu_1_2"},{question:"3",answer:"heu_1_3"},{question:"4",answer:"heu_1_4"}]},heuristic_2:{says:["<b>2/10 — 'Match between the System and the Real World'</b>","The system should speak the users' language, with words, phrases and concepts familiar to the user, rather than system-oriented terms. Follow real-world conventions, making information appear in a natural and logical order."],reply:[{question:"0",answer:"heu_2_0"},{question:"1",answer:"heu_2_1"},{question:"2",answer:"heu_2_2"},{question:"3",answer:"heu_2_3"},{question:"4",answer:"heu_2_4"}]},heuristic_3:{says:["<b>3/10 — 'User Control and Freedom'</b>","Users often choose system functions by mistake and will need a clearly marked 'emergency exit' to leave the unwanted state without having to go through an extended dialogue."],reply:[{question:"0",answer:"heu_3_0"},{question:"1",answer:"heu_3_1"},{question:"2",answer:"heu_3_2"},{question:"3",answer:"heu_3_3"},{question:"4",answer:"heu_3_4"}]},heuristic_4:{says:["<b>4/10 — 'Consistency and Standards'</b>","Users should not have to wonder whether different words, situations, or actions mean the same thing. Follow platform conventions."],reply:[{question:"0",answer:"heu_4_0"},{question:"1",answer:"heu_4_1"},{question:"2",answer:"heu_4_2"},{question:"3",answer:"heu_4_3"},{question:"4",answer:"heu_4_4"}]},heuristic_5:{says:["<i>You're halfway there! We just have five heuristics left!</i>","insert_gif_here.jpg","<b>5/10 — 'Error Prevention'</b>","Even better than good error messages is a careful design which prevents a problem from occurring in the first place. Either eliminate error-prone conditions or check for them and present users with a confirmation option before they commit to the action."],reply:[{question:"0",answer:"heu_5_0"},{question:"1",answer:"heu_5_1"},{question:"2",answer:"heu_5_2"},{question:"3",answer:"heu_5_3"},{question:"4",answer:"heu_5_4"}]},heuristic_6:{says:["<b>6/10 — 'Recognition rather than Recall'</b>","Minimize the user's memory load by making objects, actions, and options visible. The user should not have to remember information from one part of the dialogue to another. Instructions for use of the system should be visible or easily retrievable whenever appropriate."],reply:[{question:"0",answer:"heu_6_0"},{question:"1",answer:"heu_6_1"},{question:"2",answer:"heu_6_2"},{question:"3",answer:"heu_6_3"},{question:"4",answer:"heu_6_4"}]},heuristic_7:{says:["<b>7/10 — 'Flexibility and Efficiency of Use'</b>","Accelerators — unseen by the novice user — may often speed up the interaction for the expert user such that the system can cater to both inexperienced and experienced users. Allow users to tailor frequent actions."],reply:[{question:"0",answer:"heu_7_0"},{question:"1",answer:"heu_7_1"},{question:"2",answer:"heu_7_2"},{question:"3",answer:"heu_7_3"},{question:"4",answer:"heu_7_4"}]},heuristic_8:{says:["<b>8/10 — 'Aesthetic and Minimalist Design'</b>","Dialogues should not contain information which is irrelevant or rarely needed. Every extra unit of information in a dialogue competes with the relevant units of information and diminishes their relative visibility."],reply:[{question:"0",answer:"heu_8_0"},{question:"1",answer:"heu_8_1"},{question:"2",answer:"heu_8_2"},{question:"3",answer:"heu_8_3"},{question:"4",answer:"heu_8_4"}]},heuristic_9:{says:["<b>9/10 — Help users Recognize, Diagnose, and Recover from Errors</b>","Error messages should be expressed in plain language (no codes), precisely indicate the problem, and constructively suggest a solution."],reply:[{question:"0",answer:"heu_9_0"},{question:"1",answer:"heu_9_1"},{question:"2",answer:"heu_9_2"},{question:"3",answer:"heu_9_3"},{question:"4",answer:"heu_9_4"}]},heuristic_10:{says:["<i>We have one more heuristic.</i>","<b>10/10 — Help and Documentation</b>","Even though it is better if the system can be used without documentation, it may be necessary to provide help and documentation. Any such information should be easy to search, focused on the user's task, list concrete steps to be carried out, and not be too large."],reply:[{question:"0",answer:"heu_10_0"},{question:"1",answer:"heu_10_1"},{question:"2",answer:"heu_10_2"},{question:"3",answer:"heu_10_3"},{question:"4",answer:"heu_10_4"}]},closing_1:{says:["You've reached the end of this evaluation! 🎉","All your input has been saved.","You will be re-directed shortly. Thank you for your efforts!"]},foo:{says:["[object Object]"],reply:[{question:"[object Object]",answer:"foo"}]},object:{says:["[object Object]"],reply:[{question:"[object Object]",answer:"rating"},{question:"[object Object]",answer:"rating"},{question:"[object Object]",answer:"rating"}]},heuristicIssue:{says:["Could you tell us what the issue is? If you want, you can type your input in the text area below."],reply:[{question:"I’d like to skip this one.",answer:"heuristicSuggestion"}]},heuristicSuggestion:{says:["Perhaps you have a suggestion on how we may fix this issue? Once more, you can type your input in the text area below."],reply:[{question:"I’d like to skip this one.",answer:"handleSuggestion"}]}};function startEvaluation(){const e=document.getElementById("frame");e.style.transition="filter 2s ease-in-out, opacity 2s ease-in-out",e.style.filter="blur(0px)",e.style.opacity="1",timeSpentOnOnboarding=checkTimeElapsed(),updateFormValue("time_spent_on_onboarding",timeSpentOnOnboarding)}function goToHeuristic(e){chatWindow.talk(convo,`heuristic_${e}`)}function handleHeuristicResponse(e,n){updateFormValue(`heu_${e}`,n),currentHeuristic=e,10!=e?0==n?goToHeuristic(e+1):askHeuristicIssue():10==e?chatWindow.talk(convo,"closing_1"):(console.log("We could not handle your request at this time."),chatWindow.talk(convo,"closing_1"))}function askHeuristicIssue(){setTimeout(function(){inputText.classList.remove("inactive"),inputText.focus()},2e3),currentQuestion="issue",chatWindow.talk(convo,"heuristicIssue")}function askHeuristicSuggestion(){setTimeout(function(){inputText.classList.remove("inactive"),inputText.focus()},2e3),currentQuestion="suggestion",chatWindow.talk(convo,"heuristicSuggestion")}function startTalking(){0==startedPlaying&&(setTimeout(function(){chatWindow.talk(convo,"icebreaker")},1e3),startedPlaying=!0)}function updateAttr(e,n,t,s){e.setAttribute("aria-label",n),e.setAttribute("data-balloon-pos",t),e.setAttribute("data-balloon-length",s)}function submitForm(){document.getElementsByTagName("form")[0].submit()}unveilDesign=function(){startEvaluation(),setTimeout(function(){chatWindow.talk(convo,"intro_3")},2e3)},completedScenario=function(){timeSpentOnScenario=checkTimeElapsed()-timeSpentOnOnboarding,updateFormValue("time_spent_on_scenario",timeSpentOnScenario),updateFormValue("completed_scenario",1),chatWindow.talk(convo,"tasks_4a")},didNotCompleteScenario=function(){timeSpentOnScenario=checkTimeElapsed()-timeSpentOnOnboarding,updateFormValue("time_spent_on_scenario",timeSpentOnScenario),chatWindow.talk(convo,"tasks_4b")},handleSuggestion=function(){currentQuestion="",inputText.classList.add("inactive"),currentHeuristic<10?goToHeuristic(currentHeuristic+1):chatWindow.talk(convo,"closing_1")},heu_1_0=function(){handleHeuristicResponse(1,0)},heu_1_1=function(){handleHeuristicResponse(1,1)},heu_1_2=function(){handleHeuristicResponse(1,2)},heu_1_3=function(){handleHeuristicResponse(1,3)},heu_1_4=function(){handleHeuristicResponse(1,4)},heu_2_0=function(){handleHeuristicResponse(2,0)},heu_2_1=function(){handleHeuristicResponse(2,1)},heu_2_2=function(){handleHeuristicResponse(2,2)},heu_2_3=function(){handleHeuristicResponse(2,3)},heu_2_4=function(){handleHeuristicResponse(2,4)},heu_3_0=function(){handleHeuristicResponse(3,0)},heu_3_1=function(){handleHeuristicResponse(3,1)},heu_3_2=function(){handleHeuristicResponse(3,2)},heu_3_3=function(){handleHeuristicResponse(3,3)},heu_3_4=function(){handleHeuristicResponse(3,4)},heu_4_0=function(){handleHeuristicResponse(4,0)},heu_4_1=function(){handleHeuristicResponse(4,1)},heu_4_2=function(){handleHeuristicResponse(4,2)},heu_4_3=function(){handleHeuristicResponse(4,3)},heu_4_4=function(){handleHeuristicResponse(4,4)},heu_5_0=function(){handleHeuristicResponse(5,0)},heu_5_1=function(){handleHeuristicResponse(5,1)},heu_5_2=function(){handleHeuristicResponse(5,2)},heu_5_3=function(){handleHeuristicResponse(5,3)},heu_5_4=function(){handleHeuristicResponse(5,4)},heu_6_0=function(){handleHeuristicResponse(6,0)},heu_6_1=function(){handleHeuristicResponse(6,1)},heu_6_2=function(){handleHeuristicResponse(6,2)},heu_6_3=function(){handleHeuristicResponse(6,3)},heu_6_4=function(){handleHeuristicResponse(6,4)},heu_7_0=function(){handleHeuristicResponse(7,0)},heu_7_1=function(){handleHeuristicResponse(7,1)},heu_7_2=function(){handleHeuristicResponse(7,2)},heu_7_3=function(){handleHeuristicResponse(7,3)},heu_7_4=function(){handleHeuristicResponse(7,4)},heu_8_0=function(){handleHeuristicResponse(8,0)},heu_8_1=function(){handleHeuristicResponse(8,1)},heu_8_2=function(){handleHeuristicResponse(8,2)},heu_8_3=function(){handleHeuristicResponse(8,3)},heu_8_4=function(){handleHeuristicResponse(8,4)},heu_9_0=function(){handleHeuristicResponse(9,0)},heu_9_1=function(){handleHeuristicResponse(9,1)},heu_9_2=function(){handleHeuristicResponse(9,2)},heu_9_3=function(){handleHeuristicResponse(9,3)},heu_9_4=function(){handleHeuristicResponse(9,4)},heu_10_0=function(){handleHeuristicResponse(10,0)},heu_10_1=function(){handleHeuristicResponse(10,1)},heu_10_2=function(){handleHeuristicResponse(10,2)},heu_10_3=function(){handleHeuristicResponse(10,3)},heu_10_4=function(){handleHeuristicResponse(10,4)};
