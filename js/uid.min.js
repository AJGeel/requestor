var interfaceVariant,getParams=function(a){var d={},b=document.createElement("a");b.href=a;a=b.search.substring(1).split("&");for(b=0;b<a.length;b++){var c=a[b].split("=");d[c[0]]=decodeURIComponent(c[1])}return d},btnConsent=document.getElementById("consent"),btnNoConsent=document.getElementById("noConsent"),consent=0,experienceLevelDOM=document.getElementById("experienceLevel"),noveltyFamiliarityDOM=document.getElementById("noveltyFamiliarity"),noveltyFrequencyDOM=document.getElementById("noveltyFrequency");
p=getParams(window.location.href);if("0"==p.v)interfaceVariant="gui";else if("1"==p.v)interfaceVariant="cui";else{var t=Math.round(Math.random());0==t?interfaceVariant="gui":1==t&&(interfaceVariant="cui")}
function toNextPage(){consent?""==experienceLevelDOM.value?(alert("Please share how you perceive your understanding and ability in UX Design."),experienceLevelDOM.focus()):""==noveltyFamiliarityDOM.value?(alert("Please share your familiarity with Conversational User Interfaces."),noveltyFamiliarityDOM.focus()):""==noveltyFrequencyDOM.value?(alert("Please share your frequency of use of Conversational User Interfaces."),noveltyFrequencyDOM.focus()):saveExperienceToDB():alert("Unfortunately, we are not allowed to perform this study with persons who do not consent to the terms of this research. \n\nWe urge you to read through the 'Subject information for participation' letter again and decide whether you would like to consent to participating in this study.")}
btnConsent.addEventListener("click",function(){0==btnConsent.classList.contains("active")&&btnConsent.classList.add("active");btnNoConsent.classList.contains("active")&&btnNoConsent.classList.remove("active");consent=!0;""!=experienceLevelDOM.value&&""!=noveltyFamiliarityDOM.value&&""!=noveltyFrequencyDOM.value&&toStudy.classList.remove("inactive")});
btnNoConsent.addEventListener("click",function(){0==btnNoConsent.classList.contains("active")&&btnNoConsent.classList.add("active");btnConsent.classList.contains("active")&&btnConsent.classList.remove("active");consent=!1;0==toStudy.classList.contains("inactive")&&toStudy.classList.add("inactive")});experienceLevelDOM.addEventListener("change",function(){""!=experienceLevelDOM.value&&""!=noveltyFamiliarityDOM.value&&""!=noveltyFrequencyDOM.value&&toStudy.classList.remove("inactive")});
noveltyFamiliarityDOM.addEventListener("change",function(){""!=experienceLevelDOM.value&&""!=noveltyFamiliarityDOM.value&&""!=noveltyFrequencyDOM.value&&toStudy.classList.remove("inactive")});noveltyFrequencyDOM.addEventListener("change",function(){""!=experienceLevelDOM.value&&""!=noveltyFamiliarityDOM.value&&""!=noveltyFrequencyDOM.value&&toStudy.classList.remove("inactive")});toStudy.addEventListener("click",function(){toNextPage()});
function setCookie(a,d,b){var c=new Date;c.setTime(c.getTime()+864E5*b);b="expires="+c.toUTCString();document.cookie=a+"="+d+";"+b+";path=/"}function getCookie(a){a+="=";for(var d=decodeURIComponent(document.cookie).split(";"),b=0;b<d.length;b++){for(var c=d[b];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(a))return c.substring(a.length,c.length)}return""}function checkUID(){var a=getCookie("temp_uid");""!=a&&null!=a||setCookie("temp_uid",generateRandom(9999999),7)}
function generateRandom(a){return Math.floor(Math.random()*a)}
function saveExperienceToDB(){var a=getCookie("temp_uid"),d=experienceLevelDOM.value,b=noveltyFamiliarityDOM.value,c=noveltyFrequencyDOM.value,e=new FormData;e.append("user_id",a);e.append("experience_level",d);e.append("novelty_familiarity",b);e.append("novelty_frequency",c);fetch("/app/backend/experience.php",{method:"POST",body:e}).then(function(a){console.log(a.status);return a.text()}).then(function(a){console.log(a);location.href="app/"+interfaceVariant+".php"})}checkUID();
